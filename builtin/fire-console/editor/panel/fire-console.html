<html><head></head><body><div hidden=""><polymer-element name="console-item" constructor="ConsoleItem" assetpath=""><template><style>:host { display: block; padding: 5px; margin-bottom: 1px; border-left: 3px solid #222; color: #999; background: #222;}:host(:nth-child(even)) { border-left: 3px solid #292929; background: #292929;}:host([selected]) { border-left: 3px solid #f00;}i { margin-right: 5px; width: 20px; text-align: center;}i.fa-info { color: #aaa;}i.fa-warning { color: #aa0;}i.fa-times-circle { color: #a00;}.text.info { color: #0af;}.text.warn { color: #aa0;}.text.error { color: #a00;}.count { height: 12px; background: #7c7b77; color: #fff; padding-left: 4px; padding-right: 4px; border-radius: 3px; font-size: 12px;}.hide { display: none;}</style><i class="fa [[type | toIconClass]]"></i><span class="count {{count == 0 ? 'hide': ''}}">{{count+1}}</span><span class="text [[type]]">[[text]]</span></template><script>(function(){Polymer("console-item",{publish:{type:"log",text:"",selected:{value:false,reflect:true},count:0},attached:function(){this.fire("item-added")},toIconClass:function(value){switch(value){case"log":return"fa-info";case"info":return"fa-info";case"warn":return"fa-warning";case"error":return"fa-times-circle"}}})})();</script></polymer-element><polymer-element name="console-view" constructor="ConsoleView" on-item-added="{{itemAddedAction}}" assetpath=""><template><style>:host { box-sizing: border-box; outline: none; overflow-x: hidden; overflow-y: auto; border: 1px solid #171717; position: relative; box-shadow: inset 0 0 8px 2px rgba(0,0,0,0.2); background: #333;}</style><content></content></template><script>(function(){Polymer("console-view",EditorUI.mixin({ready:function(){this._initResizable()},itemAddedAction:function(event){event.stopPropagation();window.requestAnimationFrame(function(){this.scrollTop=this.scrollHeight}.bind(this))}},EditorUI.resizable))})();</script></polymer-element><polymer-element name="console-detail" constructor="ConsoleDetail" assetpath=""><template><style>:host { box-sizing: border-box; border: 1px solid #171717; padding: 5px 10px; overflow-x: hidden; overflow-y: auto; background-color: #333;}.text { -webkit-user-select: initial; user-select: initial; cursor: text; white-space: pre-wrap; margin: 0px;}.text::selection { background-color: #007acc;}i { font-size: 20px;}i.fa-info { color: #aaa;}i.fa-warning { color: #aa0;}i.fa-times-circle { color: #a00;}</style><p class="text" id="log">{{log}}</p></template><script>(function(){Polymer("console-detail",EditorUI.mixin({publish:{type:"",log:""},ready:function(){this._initResizable()},toIconClass:function(value){switch(value){case"log":return"fa-info";case"info":return"fa-info";case"warn":return"fa-warning";case"error":return"fa-times-circle"}},logChanged:function(){this.$.log.innerHTML=this.replaceWarp(this.replaceXSS(this.log))},clear:function(){this.log="";this.type=""},replaceWarp:function(log){return log.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>")},replaceXSS:function(value){value=value.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return value}},EditorUI.resizable))})();</script></polymer-element></div><polymer-element name="fire-console" constructor="FireConsole" assetpath=""><template><style>:host { display: flex; flex-direction: column; flex-wrap: nowrap; align-items: stretch; font-size: 12px; margin-top: 2px; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; color: #aaa; cursor: default; outline: none;}.space { width: 5px;}fire-ui-toolbar fire-ui-button .fa-ban { color: #f00;}fire-ui-toolbar fire-ui-button .fa-ban:hover { color: #f00;}fire-ui-toolbar fire-ui-button .fa-ban:active { color: #f00;}</style><fire-ui-toolbar><fire-ui-button on-click="{{clearAction}}"><i class="fa fa-ban"></i></fire-ui-button><span class="space"></span><i class="fa fa-filter"></i><span class="space"></span><fire-ui-text-input placeholder="filter" inputvalue="{{filterText}}" regex="{{useRegex}}"></fire-ui-text-input><span class="space"></span><fire-ui-checkbox value="{{useRegex}}">Regex</fire-ui-checkbox><span class="space"></span><fire-ui-select style="width: 50px" value="{{option}}" options="[[options]]"></fire-ui-select><span class="space"></span><fire-ui-checkbox value="{{collapse}}">Collapse</fire-ui-checkbox></fire-ui-toolbar><div flex-1="" flex-col="" flex-stretch=""><console-view id="view" min-height="50"><template repeat="{{log in logs | applyFilter(filterText,option,useRegex,collapse)}}"><console-item type="[[log.type]]" text="[[log.text]]" count="{{log.count}}" on-click="{{itemClickAction}}"></console-item></template></console-view><fire-ui-splitter></fire-ui-splitter><console-detail id="detail" height="50" min-height="50"></console-detail></div></template><script>(function(){Polymer("fire-console",{options:[{name:"All",value:0},{name:"Log",value:1},{name:"Warn",value:2},{name:"Error",value:3},{name:"Info",value:4}],created:function(){this.icon=new Image;this.icon.src="fire://static/img/plugin-console.png";this.collapse=true;this.option=0;this.filterText="";this.useRegex=false;this.logs=[];this._curSelected=null},"console:log":function(event){this.add("log",event.detail.message)},"console:warn":function(event){this.add("warn",event.detail.message)},"console:error":function(event){this.add("error",event.detail.message)},"console:info":function(event){this.add("info",event.detail.message)},add:function(type,text){this.logs.push({type:type,text:text,count:0});this.logs=this.logs.slice()},clear:function(){this.logs=[]},applyFilter:function(logs,filterText,option,useRegex){var filterLogs=[];var type;switch(option){case 0:type="";break;case 1:type="log";break;case 2:type="warn";break;case 3:type="error";break;case 4:type="info";break}var filter;if(useRegex){try{filter=new RegExp(filterText)}catch(err){filter=new RegExp("")}}else{filter=filterText.toLowerCase()}var i=0;var log=null;for(i=0;i<logs.length;++i){log=logs[i];log.count=0;if(type!==""&&log.type!==type){continue}if(useRegex){if(!filter.exec(log.text)){continue}}else{if(log.text.toLowerCase().indexOf(filter)===-1){continue}}filterLogs.push(log)}if(this.collapse&&filterLogs.length>0){var collapseLogs=[];var lastLog=filterLogs[0];collapseLogs.push(lastLog);for(i=1;i<filterLogs.length;++i){log=filterLogs[i];if(lastLog.text===log.text&&lastLog.type===log.type){lastLog.count+=1}else{collapseLogs.push(log);lastLog=log}}filterLogs=collapseLogs}return filterLogs},itemClickAction:function(event){event.stopPropagation();this.$.detail.type=event.target.type;this.$.detail.log=event.target.text;if(this._curSelected!==null){this._curSelected.selected=false}this._curSelected=event.target;if(this._curSelected){this._curSelected.selected=true}},clearAction:function(event){this.clear();this.$.detail.clear()}})})();</script></polymer-element></body></html>