<html><head></head><body><polymer-element name="auto-updater" constructor="AutoUpdater" assetpath=""><template><style>:host { font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;}.load { width: 100px; height: 100px; float: left;}.load svg { top: 0; left: 0; width: 100%; height: 100%; stroke-dasharray: 1%, 300%; stroke-dashoffset: 0%; stroke: #ddd; stroke-linecap: round; fill: none; display: none; transform: rotate(-90deg);}.showAnimate { -webkit-animation: animate 3s 0 linear infinite;}@-webkit-keyframes animate { 0% { stroke-dasharray: 0%, 250%; stroke-dashoffset: 0%; } 50% { stroke-dasharray: 250%, 250%; stroke-dashoffset: 0%; } 100% { stroke-dasharray: 250%, 250%; stroke-dashoffset: -250%; }}.logo { position: absolute; width: 45px; margin-left: 30px; margin-top: 25px;}.tip { font-size: 12px; margin-left: 35px; margin-top: 10px; color: #f8fc63;}.updateurl { font-size: 12px; color: #000; -webkit-user-select: initial; text-decoration: underline; cursor: pointer;}.updateurl:hover { color: #fff;}.topbar { width: 100%; height: 100px; float: left;}.confirm { margin-top: 10px; margin-right: 40px; float: right;}.versions { float: right; margin-top: 35px; margin-right: 35px;}.title { font-size: 36px; line-height: 100px; color: #fff;}.version { font-size: 14px;}.pace { -webkit-pointer-events: none; pointer-events: none; -webkit-user-select: none; -moz-user-select: none; user-select: none;}.progress { position: fixed; width: 100%; height: 4px; background: #6e6e6e; background-image: linear-gradient(45deg, rgba(255,255,255,0.15) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.15) 50%, rgba(255,255,255,0.15) 75%, transparent 75%, transparent); background-size: 20px 20px; -webkit-animation: progress-bar-stripes 2s linear infinite;}@-webkit-keyframes progress-bar-stripes { from { background-position: 40px 0; } to { background-position: 0 0; }}.pace-inactive { display: none;}.pace .pace-activity { display: block; position: fixed; z-index: 2000; top: 15px; right: 15px; width: 14px; height: 14px; border: solid 2px transparent; border-top-color: #fff; border-left-color: #fff; border-radius: 10px; -webkit-animation: pace-spinner 400ms linear infinite; -moz-animation: pace-spinner 400ms linear infinite; -ms-animation: pace-spinner 400ms linear infinite; -o-animation: pace-spinner 400ms linear infinite; animation: pace-spinner 400ms linear infinite;}@-webkit-keyframes pace-spinner { 0% { -webkit-transform: rotate(0deg); transform: rotate(0deg); } 100% { -webkit-transform: rotate(360deg); transform: rotate(360deg); }}@-moz-keyframes pace-spinner { 0% { -moz-transform: rotate(0deg); transform: rotate(0deg); } 100% { -moz-transform: rotate(360deg); transform: rotate(360deg); }}@-o-keyframes pace-spinner { 0% { -o-transform: rotate(0deg); transform: rotate(0deg); } 100% { -o-transform: rotate(360deg); transform: rotate(360deg); }}@-ms-keyframes pace-spinner { 0% { -ms-transform: rotate(0deg); transform: rotate(0deg); } 100% { -ms-transform: rotate(360deg); transform: rotate(360deg); }}@-moz-keyframes progress-bar-stripes { from { background-position: 40px 0; } to { background-position: 0 0; }}@-webkit-keyframes progress-bar-stripes { from { background-position: 40px 0; } to { background-position: 0 0; }}@-o-keyframes progress-bar-stripes { from { background-position: 40px 0; } to { background-position: 0 0; }}@keyframes progress-bar-stripes { from { background-position: 40px 0; } to { background-position: 0 0; }}@-moz-keyframes pace-spinner { 0% { transform: rotate(0deg); transform: rotate(0deg); } 100% { transform: rotate(360deg); transform: rotate(360deg); }}@-webkit-keyframes pace-spinner { 0% { transform: rotate(0deg); transform: rotate(0deg); } 100% { transform: rotate(360deg); transform: rotate(360deg); }}@-o-keyframes pace-spinner { 0% { transform: rotate(0deg); transform: rotate(0deg); } 100% { transform: rotate(360deg); transform: rotate(360deg); }}@keyframes pace-spinner { 0% { transform: rotate(0deg); transform: rotate(0deg); } 100% { transform: rotate(360deg); transform: rotate(360deg); }}</style><div class="pace pace-inactive" style="display: {{progressAnimate ? 'block':'none'}}"><div class="progress"></div><div class="pace-activity"></div></div><div class="topbar"><div class="load"><img class="logo" id="logo" src="img/logo.png"><svg id="svgForStroke" class="{{playing ? 'showAnimate':''}}" style="display: {{playing ? 'block':'none'}}" xmlns="http://www.w3.org/2000/svg"><circle cx="50%" cy="50%" r="40%" stroke-width="1%"></circle></svg></div><span class="title">Fireball</span><div class="versions"><div class="version">current version:{{version}}</div><div class="version {{hasNewVersion ? '' : 'display:none'}}">new version:{{newVersion}}</div></div><div class="info"><div class="tip">{{statusTip}}</div><div class="confirm"><fire-ui-button on-click="{{cancel}}" style="{{showClose ? '' : 'display:none'}}">Close</fire-ui-button><fire-ui-button on-click="{{confirm}}" style="{{showConfirm ? '':'display:none'}}">{{confirmLabel}}</fire-ui-button><fire-ui-button on-click="{{cancel}}" style="{{showConfirm ? '':'display:none'}}">{{cancelLabel}}</fire-ui-button></div></div></div></template><script>(function(){var Remote=require("remote");var App=Remote.require("app");Polymer("auto-updater",{version:"",newVersion:"",playing:false,status:"normal",progressAnimate:false,statusTip:"",hasNewVersion:false,confirmLabel:"Yes",cancelLabel:"No",showConfirm:false,showClose:false,created:function(){this.version=App.getVersion()},"panel:open":function(argv){this.status=argv.status;Editor.sendToCore("auto-updater:opened",{status:this.status})},"auto-updater:status-changed":function(opts){console.log("status changed: "+JSON.stringify(opts));this.status=opts.status;switch(opts.status){case"checking":console.log("checking");this.playAnimation();this.statusTip="Checking for update...";this.showClose=false;break;case"not-available":this.progressAnimate=false;this.playing=false;this.showConfirm=false;this.showClose=true;this.statusTip="Your Fireball Version is up to date!";break;case"confirm-download":this.playing=false;this.showConfirm=true;this.showClose=false;this.hasNewVersion=true;this.newVersion=opts.newVersion;this.confirmLabel="Download";this.cancelLabel="Cancel";this.statusTip="New version found! Should start downloading "+opts.filename+"?";break;case"downloading":this.progressAnimate=true;this.playing=true;this.showConfirm=false;this.showClose=false;this.statusTip="Start downloading in the background... this window is closing in 3 seconds";break;case"confirm-replace":this.progressAnimate=false;this.playing=false;this.showConfirm=true;this.showClose=false;this.confirmLabel="Close App and Update";this.cancelLabel="Cancel";this.statusTip="Download latest Fireball complete, should we CLOSE the app and go to the new version location?";break}},playAnimation:function(){this.playing=true;this.$.logo.animate([{width:"45px"},{width:"40px"}],{duration:200});this.$.logo.style.width="40px"},confirm:function(){Editor.sendToCore("auto-updater:on-confirm",{status:this.status})},cancel:function(){Editor.sendToCore("auto-updater:on-cancel",{status:this.status})}})})();</script></polymer-element></body></html>