<html><head></head><body><polymer-element name="fire-game" constructor="FireGame" on-show="{{showAction}}" on-hide="{{hideAction}}" on-resize="{{resizeAction}}" assetpath=""><template><style>:host{position:relative;font-size:12px;margin-top:2px;border:1px solid #171717;white-space:nowrap;color:#ddd;background:#333;font-family:'Helvetica Neue',Helvetica,Arial,sans-serif;cursor:default}.border{position:relative}canvas{position:relative;}canvas:focus{outline:0}</style><div class="border" id="view" fit=""></div></template><script>!function(){Polymer("fire-game",{created:function(){this.icon=new Image,this.icon.src="fire://static/img/plugin-game.png",this.ipc=new Fire.IpcListener,this.renderContext=null},attached:function(){this.ipc.on("scene:dirty",this.delayRepaintScene.bind(this))},detached:function(){this.ipc.clear()},setRenderContext:function(a){null!==this.renderContext&&this.$.view.removeChild(this.renderContext.canvas),this.renderContext=a,null!==this.renderContext&&this.$.view.appendChild(this.renderContext.canvas)},resize:function(){if(null!==this.renderContext){var a=this.style.display;this.style.display="",this.renderContext.size=new Fire.Vec2(this.$.view.clientWidth,this.$.view.clientHeight),this.style.display=a,this.repaintScene()}},repaintScene:function(){Fire.Engine._scene.render(this.renderContext)},delayRepaintScene:function(){this._repainting||(this._repainting=!0,setTimeout(function(){this.repaintScene(),this._repainting=!1}.bind(this),100))},showAction:function(a){this.repaintScene(),this._repaintID=setInterval(this.repaintScene.bind(this),500)},hideAction:function(a){clearInterval(this._repaintID)},resizeAction:function(a){this.resize()}})}();</script></polymer-element></body></html>